setwd(C:\\Users\\chand\\workspace\\r\\final-project\\covid-19)
setwd("C:\\Users\\chand\\workspace\\r\\final-project\\covid-19")
data<- read.csv("data\\usa_2.csv", header=TRUE)
data$date<- as.Date(data$date)
data<- read.csv("data\\raw.csv", header=TRUE)
data$date<- as.Date(data$date)
total<- data %>%
group_by(administrative_area_level_2) %>%
summarise(total_confirmed = sum(confirmed))
total<- data %>%
group_by(administrative_area_level_2) %>%
summarise(total_confirmed = sum(confirmed, na.rm = TRUE))
total <- data %>%
group_by(administrative_area_level_2) %>%
summarise(total_confirmed = sum(confirmed, na.rm = TRUE))
library(dplyr)
library(ggplot2)
data<- read.csv("data\\raw.csv", header=TRUE)
data$date<- as.Date(data$date)
total <- data %>%
group_by(administrative_area_level_2) %>%
summarise(total_confirmed = sum(confirmed, na.rm = TRUE))
total
total <- data %>%
group_by(administrative_area_level_2, latitude, longitude) %>%
summarise(total_confirmed = sum(confirmed, na.rm = TRUE))
total <- data %>%
group_by(administrative_area_level_2, latitude, longitude) %>%
summarise(total_confirmed = sum(confirmed, na.rm = TRUE), .groups = "drop")
total
us_map <- map_data("state")
total$region <- tolower(total$administrative_area_level_2)
map_data_combined <- merge(us_map, total, by = "region", all.x = TRUE)
ggplot(map_data_combined, aes(x = long, y = lat, group = group, fill = total_cases)) +
geom_polygon(color = "black") +
coord_fixed(1.3) +
scale_fill_gradient(low = "yellow", high = "red", na.value = "gray") +
labs(title = "COVID-19 Confirmed Cases in the United States",
fill = "Confirmed Cases")
ggplot(map_data_combined, aes(x = long, y = lat, group = group, fill = total_confirmed)) +
geom_polygon(color = "black") +
coord_fixed(1.3) +
scale_fill_gradient(low = "yellow", high = "red", na.value = "gray") +
labs(title = "COVID-19 Confirmed Cases in the United States",
fill = "Confirmed Cases")
ggplot(map_data_combined, aes(x = long, y = lat, group = group, fill = total_confirmed)) +
geom_polygon(color = "black") +
coord_fixed(1.3) +
scale_fill_gradient(low = "green", high = "red", na.value = "gray") +
labs(title = "COVID-19 Confirmed Cases in the United States",
fill = "Confirmed Cases")
ggplot(map_data_combined, aes(x = long, y = lat, group = group, fill = total_confirmed)) +
geom_polygon(color = "black") +
coord_fixed(1.3) +
scale_fill_gradient(low = "lightpink", high = "red", na.value = "gray") +
labs(title = "COVID-19 Confirmed Cases in the United States",
fill = "Confirmed Cases")
ggsave("data/total_confirmed.png", plot)
ggsave("data/total_confirmed.png", map_data_combined, aes(x = long, y = lat, group = group, fill = total_confirmed)) +
geom_polygon(color = "black") +
coord_fixed(1.3) +
scale_fill_gradient(low = "lightpink", high = "red", na.value = "gray") +
labs(title = "COVID-19 Confirmed Cases in the United States",
fill = "Confirmed Cases")
ggplot(map_data_combined, aes(x = long, y = lat, group = group, fill = total_confirmed)) +
geom_polygon(color = "black") +
coord_fixed(1.3) +
scale_fill_gradient(low = "lightpink", high = "red", na.value = "gray") +
labs(title = "COVID-19 Confirmed Cases in the United States",
fill = "Confirmed Cases")
